(function(){var e=function(a){""!==a&&(1==a?($("#gis_location_wkt__row").hide(),$("#gis_location_wkt__row1").hide(),$("#gis_location_lat__row").show(),$("#gis_location_lon__row").show(),$("#gis_location_lat__row1").show(),$("#gis_location_lon__row1").show()):($("#gis_location_lat__row").hide(),$("#gis_location_lon__row").hide(),$("#gis_location_lat__row1").hide(),$("#gis_location_lon__row1").hide(),$("#gis_location_wkt__row").show(),$("#gis_location_wkt__row1").show(),2==a?""===$("#gis_location_wkt").val()&&
$("#gis_location_wkt").val("LINESTRING( , , )"):3==a?""===$("#gis_location_wkt").val()&&$("#gis_location_wkt").val("POLYGON(( , , ))"):6==a&&""===$("#gis_location_wkt").val()&&$("#gis_location_wkt").val("MULTIPOLYGON(( , , ))")))},g=function(a){var b=new jQuery.Deferred,d=S3.gis;setTimeout(function c(){void 0!=d.maps&&void 0!=d.maps[a]?b.resolve("loaded"):"pending"===b.state()&&(b.notify("waiting for JS to load..."),setTimeout(c,500))},1);return b.promise()};$(function(){var a=$("#gis_location_gis_feature_type").val();
e(a);$("#gis_location_gis_feature_type").on("change",function(){a=$(this).val();e(a)});var b=$("#gis_location_level").val();b&&($("#gis_location_addr_street__row").hide(),$("#gis_location_addr_street__row1").hide(),$("#gis_location_addr_postcode__row").hide(),$("#gis_location_addr_postcode__row1").hide(),"L0"==b&&$("#gis_location_parent__row").hide());$("#gis_location_level").on("change",function(){var d=$(this).val();d?($("#gis_location_addr_street__row").hide(),$("#gis_location_addr_street__row1").hide(),
$("#gis_location_addr_postcode__row").hide(),$("#gis_location_addr_postcode__row1").hide(),"L0"==d?($("#gis_location_parent__row").hide(),$("#gis_location_parent__row1").hide(),$("#gis_location_parent").val("")):($("#gis_location_parent__row").show(),$("#gis_location_parent__row1").show())):($("#gis_location_addr_street__row").show(),$("#gis_location_addr_street__row1").show(),$("#gis_location_addr_postcode__row").show(),$("#gis_location_addr_postcode__row1").show(),$("#gis_location_parent__row").show(),
$("#gis_location_parent__row1").show())});$.when(g("default_map")).then(function(d){var f=S3.gis.maps.default_map;f.s3.pointPlaced=function(c){c=c.geometry.getBounds().getCenterLonLat();c.transform(f.getProjectionObject(),S3.gis.proj4326);$("#gis_location_lon").val(c.lon);$("#gis_location_lat").val(c.lat);$("#gis_location_wkt").val("")}})})})();
